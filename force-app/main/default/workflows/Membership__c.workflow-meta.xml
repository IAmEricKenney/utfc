<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Membership_Expired_Email</fullName>
        <ccEmails>jhorne@utahfilmcenter.org</ccEmails>
        <ccEmails>rroots@utahfilmcenter.org</ccEmails>
        <description>Membership Expired Email</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>info@utahfilmcenter.org</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Reminder_Workflow_Emails/Expired_Membership_Email</template>
    </alerts>
    <alerts>
        <fullName>Send_Membership_Expired_email_on_End_Date_May2020</fullName>
        <ccEmails>info@utahfilmcenter.org</ccEmails>
        <ccEmails>rroots@utahfilmcenter.org</ccEmails>
        <ccEmails>emorris@utahfilmcenter.org</ccEmails>
        <description>Send Membership Expired email on End Date - May2020</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>info@utahfilmcenter.org</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Reminder_Workflow_Emails/Expiried_Membership_Email_12_Months</template>
    </alerts>
    <alerts>
        <fullName>Send_email_to_account_s_primary_contact</fullName>
        <ccEmails>jhorne@utahfilmcenter.org</ccEmails>
        <description>Send email to account&apos;s primary contact</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Reminder_Workflow_Emails/Membership_reminder_v2</template>
    </alerts>
    <alerts>
        <fullName>Send_email_to_account_s_primary_contact_30_days_after_expiration</fullName>
        <description>Send email to account&apos;s primary contact 30 days after expiration</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <recipient>admin@utahfilm.org</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Reminder_Workflow_Emails/Membership_reminder_v2</template>
    </alerts>
    <alerts>
        <fullName>Send_email_to_account_s_primary_contact_at_expiration</fullName>
        <description>Send email to account&apos;s primary contact at expiration</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <recipients>
            <recipient>admin@utahfilm.org</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Reminder_Workflow_Emails/Membership_reminder_v2</template>
    </alerts>
    <alerts>
        <fullName>Sends_Membership_Expired_Email_1_day_prior_to_Grace_Period_End_May_2020</fullName>
        <ccEmails>info@utahfilmcenter.org</ccEmails>
        <ccEmails>rroots@utahfilmcenter.org</ccEmails>
        <ccEmails>emorris@utahfilmcenter.org</ccEmails>
        <description>Sends Membership Expired Email 1 day prior to Grace Period End - May 2020</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>info@utahfilmcenter.org</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Reminder_Workflow_Emails/Expiried_Membership_Email_13_Months_post</template>
    </alerts>
    <alerts>
        <fullName>Sends_Membership_Welcome_Email_1_day_after_purchase</fullName>
        <ccEmails>info@utahfilmcenter.org</ccEmails>
        <ccEmails>rroots@utahfilmcenter.org</ccEmails>
        <ccEmails>emorris@utahfilmcenter.org</ccEmails>
        <description>Sends Membership Welcome Email - 1 day after purchase</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>info@utahfilmcenter.org</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Reminder_Workflow_Emails/New_Membership_Welcome_Email</template>
    </alerts>
    <alerts>
        <fullName>X2_weeks_post_expiration_email_send</fullName>
        <description>2 weeks post expiration email send</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>info@utahfilmcenter.org</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Reminder_Workflow_Emails/Expired_Membership_Email</template>
    </alerts>
    <alerts>
        <fullName>X6_Weeks_Prior_Email_Send_Membership_Object</fullName>
        <ccEmails>rroots@utahfilmcenter.org</ccEmails>
        <description>6 Weeks Prior Email Send (Membership Object)</description>
        <protected>false</protected>
        <recipients>
            <field>PC_Email__c</field>
            <type>email</type>
        </recipients>
        <senderAddress>info@utahfilmcenter.org</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Reminder_Workflow_Emails/Expiring_Membership_Email</template>
    </alerts>
    <fieldUpdates>
        <fullName>Active_to_Grace</fullName>
        <field>Status__c</field>
        <literalValue>Active (Grace Period)</literalValue>
        <name>Active to Grace</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Check_box_for_2_week_exp_email_send</fullName>
        <field>Send_2_week_Expiration_Email__c</field>
        <literalValue>1</literalValue>
        <name>Check box for 2 week exp email send</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Grace_to_Lapsed</fullName>
        <field>Status__c</field>
        <literalValue>Lapsed/Former</literalValue>
        <name>Grace to Lapsed</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_PC_Email_Field</fullName>
        <field>PC_Email__c</field>
        <formula>Primary_Contact_Email__c</formula>
        <name>Update PC Email Field</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>2 week Expiration check box update</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active (Grace Period)</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Grace_Period_End_Date__c</field>
            <operation>greaterThan</operation>
            <value>TODAY</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Check_box_for_2_week_exp_email_send</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>14</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Membership 6 weeks prior Expiring Email %28Membership Object%29</fullName>
        <active>false</active>
        <booleanFilter>1 AND 2 AND (3 OR 4)</booleanFilter>
        <criteriaItems>
            <field>Membership__c.End_Date__c</field>
            <operation>greaterThan</operation>
            <value>TODAY</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>notContain</operation>
            <value>Artist Foundry</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>notContain</operation>
            <value>Sustainer</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>X6_Weeks_Prior_Email_Send_Membership_Object</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>-42</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Membership End Date Series</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.End_Date__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>notContain</operation>
            <value>Sustainer</value>
        </criteriaItems>
        <description>A series of 3 emails will be sent to members when their expiration date for their membership is approaching or past.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Send_email_to_account_s_primary_contact</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>-30</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Send_email_to_account_s_primary_contact_at_expiration</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Membership_reminder_0_days_email_sent</name>
                <type>Task</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>0</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
        <workflowTimeTriggers>
            <actions>
                <name>Send_email_to_account_s_primary_contact_30_days_after_expiration</name>
                <type>Alert</type>
            </actions>
            <actions>
                <name>Membership_email_30_days_after_expiration_email_sent</name>
                <type>Task</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>30</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Populate PC Email field</fullName>
        <actions>
            <name>Update_PC_Email_Field</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Membership__c.Primary_Contact_Email__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Send 2 week expiration Email - Membership object</fullName>
        <actions>
            <name>Membership_Expired_Email</name>
            <type>Alert</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active (Grace Period)</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Send_2_week_Expiration_Email__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Send Membership Email 1 month after expiration - May2020</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>equals</operation>
            <value>Individual,Family,Individual Sustainer,Family Sustainer</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active (Grace Period)</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Grace_Period_End_Date__c</field>
            <operation>greaterThan</operation>
            <value>TODAY</value>
        </criteriaItems>
        <description>Sends an email to a 13 months after the signup date.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Sends_Membership_Expired_Email_1_day_prior_to_Grace_Period_End_May_2020</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Membership__c.Grace_Period_End_Date__c</offsetFromField>
            <timeLength>-1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Send Membership Email on day of expiration May2020</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>equals</operation>
            <value>Individual,Family,Individual Sustainer,Family Sustainer</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active (Grace Period)</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Grace_Period_End_Date__c</field>
            <operation>greaterThan</operation>
            <value>TODAY</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Send_2_week_Expiration_Email__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>Sends an email to a 12 months after the signup date.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Send_Membership_Expired_email_on_End_Date_May2020</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Send Membership Email on day of expiration May2020 %28Deprecated May 2021%29</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>equals</operation>
            <value>Individual,Family,Individual Sustainer,Family Sustainer</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active (Grace Period)</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Grace_Period_End_Date__c</field>
            <operation>greaterThan</operation>
            <value>TODAY</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Send_2_week_Expiration_Email__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>Sends an email to a 12 months after the signup date.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Sends Membership Welcome Email MAY2020</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Membership__c.Level__c</field>
            <operation>equals</operation>
            <value>Individual,Family,Crew,Individual Sustainer,Family Sustainer,Crew Sustainer</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Start_Date__c</field>
            <operation>greaterOrEqual</operation>
            <value>TODAY</value>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Comped_Membership__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>Send the welcome email to new or renewed members.  Sent day after donation.</description>
        <triggerType>onCreateOnly</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Sends_Membership_Welcome_Email_1_day_after_purchase</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Membership__c.Start_Date__c</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Update Membership Level Active to Grace</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Membership__c.End_Date__c</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Active_to_Grace</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Membership__c.End_Date__c</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Update Membership Level Grace to Lapsed</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Membership__c.Status__c</field>
            <operation>equals</operation>
            <value>Active (Grace Period)</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Grace_to_Lapsed</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Membership__c.Grace_Period_End_Date__c</offsetFromField>
            <timeLength>1</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <tasks>
        <fullName>Membership_30_days_prior_email_sent</fullName>
        <assignedTo>admin@utahfilm.org</assignedTo>
        <assignedToType>user</assignedToType>
        <dueDateOffset>0</dueDateOffset>
        <notifyAssignee>false</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Completed</status>
        <subject>Membership 30 days prior email sent</subject>
    </tasks>
    <tasks>
        <fullName>Membership_email_30_days_after_expiration_email_sent</fullName>
        <assignedTo>admin@utahfilm.org</assignedTo>
        <assignedToType>user</assignedToType>
        <dueDateOffset>0</dueDateOffset>
        <notifyAssignee>false</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Completed</status>
        <subject>Membership email 30 days after expiration email sent</subject>
    </tasks>
    <tasks>
        <fullName>Membership_reminder_0_days_email_sent</fullName>
        <assignedTo>admin@utahfilm.org</assignedTo>
        <assignedToType>user</assignedToType>
        <dueDateOffset>0</dueDateOffset>
        <notifyAssignee>false</notifyAssignee>
        <priority>Normal</priority>
        <protected>false</protected>
        <status>Completed</status>
        <subject>Membership reminder 0 days email sent</subject>
    </tasks>
</Workflow>
